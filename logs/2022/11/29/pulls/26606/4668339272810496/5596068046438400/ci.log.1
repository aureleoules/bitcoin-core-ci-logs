[0;34m node0 2022-11-29T23:28:41.302197Z [shutoff] [txdb.cpp:171] [BatchWrite] [coindb] Committed 0 changed transaction outputs (out of 0) to coin database... [0m
[0;34m node0 2022-11-29T23:28:41.302223Z [shutoff] [logging/timer.h:57] [Log] [bench] FlushStateToDisk: write coins cache to disk (0 coins, 0kB) completed (0.10ms) [0m
[0;34m node0 2022-11-29T23:28:41.302253Z [shutoff] [validationinterface.cpp:250] [ChainStateFlushed] [validation] Enqueuing ChainStateFlushed: block hash=4d3cadf6f874f50e288d045ba6e929aa32cfdf1a99bc71eae27941eb27d0b78b [0m
[0;34m node0 2022-11-29T23:28:41.302367Z [shutoff] [wallet/bdb.cpp:538] [Flush] [walletdb] BerkeleyEnvironment::Flush: [/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_232329/tool_wallet_200/node0/regtest/wallets] Flush(true) [0m
[0;34m node0 2022-11-29T23:28:41.302387Z [shutoff] [wallet/bdb.cpp:549] [Flush] [walletdb] BerkeleyEnvironment::Flush: Flushing wallet.dat (refcount = 0)... [0m
[0;34m node0 2022-11-29T23:28:41.302496Z [shutoff] [wallet/bdb.cpp:553] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat checkpoint [0m
[0;34m node0 2022-11-29T23:28:41.303386Z [shutoff] [wallet/bdb.cpp:555] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat detach [0m
[0;34m node0 2022-11-29T23:28:41.304209Z [shutoff] [wallet/bdb.cpp:558] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat closed [0m
[0;34m node0 2022-11-29T23:28:41.304232Z [shutoff] [wallet/bdb.cpp:564] [Flush] [walletdb] BerkeleyEnvironment::Flush: Flush(true) took               1ms [0m
[0;34m node0 2022-11-29T23:28:41.304803Z [shutoff] [wallet/bdb.cpp:538] [Flush] [walletdb] BerkeleyEnvironment::Flush: [/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_232329/tool_wallet_200/node0/regtest/wallets/todump] Flush(true) [0m
[0;34m node0 2022-11-29T23:28:41.304828Z [shutoff] [wallet/bdb.cpp:549] [Flush] [walletdb] BerkeleyEnvironment::Flush: Flushing wallet.dat (refcount = 0)... [0m
[0;34m node0 2022-11-29T23:28:41.304930Z [shutoff] [wallet/bdb.cpp:553] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat checkpoint [0m
[0;34m node0 2022-11-29T23:28:41.305697Z [shutoff] [wallet/bdb.cpp:555] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat detach [0m
[0;34m node0 2022-11-29T23:28:41.306559Z [shutoff] [wallet/bdb.cpp:558] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat closed [0m
[0;34m node0 2022-11-29T23:28:41.306584Z [shutoff] [wallet/bdb.cpp:564] [Flush] [walletdb] BerkeleyEnvironment::Flush: Flush(true) took               1ms [0m
[0;34m node0 2022-11-29T23:28:41.307134Z [shutoff] [wallet/bdb.cpp:538] [Flush] [walletdb] BerkeleyEnvironment::Flush: [/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_232329/tool_wallet_200/node0/regtest/wallets/todump2] Flush(true) [0m
[0;34m node0 2022-11-29T23:28:41.307164Z [shutoff] [wallet/bdb.cpp:549] [Flush] [walletdb] BerkeleyEnvironment::Flush: Flushing wallet.dat (refcount = 0)... [0m
[0;34m node0 2022-11-29T23:28:41.307279Z [shutoff] [wallet/bdb.cpp:553] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat checkpoint [0m
[0;34m node0 2022-11-29T23:28:41.308249Z [shutoff] [wallet/bdb.cpp:555] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat detach [0m
[0;34m node0 2022-11-29T23:28:41.309019Z [shutoff] [wallet/bdb.cpp:558] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat closed [0m
[0;34m node0 2022-11-29T23:28:41.309039Z [shutoff] [wallet/bdb.cpp:564] [Flush] [walletdb] BerkeleyEnvironment::Flush: Flush(true) took               1ms [0m
[0;34m node0 2022-11-29T23:28:41.309586Z [shutoff] [wallet/wallet.h:832] [WalletLogPrintf] [todump2] Releasing wallet [0m
[0;34m node0 2022-11-29T23:28:41.309615Z [shutoff] [wallet/bdb.cpp:538] [Flush] [walletdb] BerkeleyEnvironment::Flush: [/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_232329/tool_wallet_200/node0/regtest/wallets/todump2] Flush(false) database not started [0m
[0;34m node0 2022-11-29T23:28:41.309915Z [shutoff] [wallet/wallet.h:832] [WalletLogPrintf] [todump] Releasing wallet [0m
[0;34m node0 2022-11-29T23:28:41.309937Z [shutoff] [wallet/bdb.cpp:538] [Flush] [walletdb] BerkeleyEnvironment::Flush: [/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_232329/tool_wallet_200/node0/regtest/wallets/todump] Flush(false) database not started [0m
[0;34m node0 2022-11-29T23:28:41.310047Z [shutoff] [wallet/wallet.h:832] [WalletLogPrintf] [default wallet] Releasing wallet [0m
[0;34m node0 2022-11-29T23:28:41.310069Z [shutoff] [wallet/bdb.cpp:538] [Flush] [walletdb] BerkeleyEnvironment::Flush: [/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_232329/tool_wallet_200/node0/regtest/wallets] Flush(false) database not started [0m
[0;34m node0 2022-11-29T23:28:41.310618Z [shutoff] [init.cpp:334] [Shutdown] Shutdown: done [0m
[0;36m test  2022-11-29T23:28:41.400000Z TestFramework.node0 (DEBUG): Node stopped [0m
[0;36m test  2022-11-29T23:28:41.400000Z TestFramework (INFO): Checking dump arguments [0m
[0;36m test  2022-11-29T23:28:41.704000Z TestFramework (ERROR): Assertion failed [0m
[0;36m                                   Traceback (most recent call last):[0m
[0;36m                                     File "/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py", line 133, in main[0m
[0;36m                                       self.run_test()[0m
[0;36m                                     File "/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/tool_wallet.py", line 415, in run_test[0m
[0;36m                                       self.test_dump_createfromdump()[0m
[0;36m                                     File "/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/tool_wallet.py", line 330, in test_dump_createfromdump[0m
[0;36m                                       self.assert_raises_tool_error('No dump file provided. To use dump, -dumpfile=<filename> must be provided.', '-wallet=todump', 'dump')[0m
[0;36m                                     File "/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/tool_wallet.py", line 47, in assert_raises_tool_error[0m
[0;36m                                       assert_equal(stderr.strip(), error)[0m
[0;36m                                     File "/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/util.py", line 56, in assert_equal[0m
[0;36m                                       raise AssertionError("not(%s)" % " == ".join(str(arg) for arg in (thing1, thing2) + args))[0m
[0;36m                                   AssertionError: not(wallet/migrate.cpp:388:20: runtime error: negation of 4067 cannot be represented in type 'size_t' (aka 'unsigned long')[0m
[0;36m                                       #0 0x5584ce112c03 in void wallet::RecordsPage::Unserialize<CAutoFile>(CAutoFile&) src/./src/wallet/migrate.cpp:388:20[0m
[0;36m                                       #1 0x5584ce10b9ee in void Unserialize<CAutoFile, wallet::RecordsPage&>(CAutoFile&, wallet::RecordsPage&) src/./serialize.h:705:7[0m
[0;36m                                       #2 0x5584ce10b9ee in CAutoFile& CAutoFile::operator>><wallet::RecordsPage&>(wallet::RecordsPage&) src/./streams.h:599:9[0m
[0;36m                                       #3 0x5584ce106417 in wallet::BerkeleyRODatabase::Open() src/./src/wallet/migrate.cpp:524:13[0m
[0;36m                                       #4 0x5584ce11b16b in wallet::BerkeleyRODatabase::BerkeleyRODatabase(fs::path const&) src/./wallet/migrate.h:26:9[0m
[0;36m                                       #5 0x5584ce10d6f5 in std::_MakeUniq<wallet::BerkeleyRODatabase>::__single_object std::make_unique<wallet::BerkeleyRODatabase, fs::path&>(fs::path&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/unique_ptr.h:962:34[0m
[0;36m                                       #6 0x5584ce10b462 in wallet::MakeBerkeleyRODatabase(fs::path const&, wallet::DatabaseOptions const&, wallet::DatabaseStatus&, bilingual_str&) src/./src/wallet/migrate.cpp:688:46[0m
[0;36m                                       #7 0x5584ce02bdf9 in wallet::MakeDatabase(fs::path const&, wallet::DatabaseOptions const&, wallet::DatabaseStatus&, bilingual_str&) src/./src/wallet/walletdb.cpp:1234:16[0m
[0;36m                                       #8 0x5584cde07287 in wallet::WalletTool::ExecuteWalletToolFunc(ArgsManager const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) src/./src/wallet/wallettool.cpp:203:52[0m
[0;36m                                       #9 0x5584cddf87b7 in main src/./src/bitcoin-wallet.cpp:135:10[0m
[0;36m                                       #10 0x7f5e4c3a9d8f  (/lib/x86_64-linux-gnu/libc.so.6+0x29d8f) (BuildId: 69389d485a9793dbe873f0ea2c93e02efaa9aa3d)[0m
[0;36m                                       #11 0x7f5e4c3a9e3f in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x29e3f) (BuildId: 69389d485a9793dbe873f0ea2c93e02efaa9aa3d)[0m
[0;36m                                       #12 0x5584cdd382e4 in _start (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/bitcoin-wallet+0x5e22e4) (BuildId: e3617282ae7abef559474f776b5bf41eb99186ed)[0m
[0;36m                                   SUMMARY: UndefinedBehaviorSanitizer: unsigned-integer-overflow wallet/migrate.cpp:388:20 in == No dump file provided. To use dump, -dumpfile=<filename> must be provided.)[0m
[0;36m test  2022-11-29T23:28:41.705000Z TestFramework (DEBUG): Closing down network thread [0m
[0;36m test  2022-11-29T23:28:41.755000Z TestFramework (INFO): Stopping nodes [0m
[0;36m test  2022-11-29T23:28:41.756000Z TestFramework (WARNING): Not cleaning up dir /tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_232329/tool_wallet_200 [0m
[0;36m test  2022-11-29T23:28:41.756000Z TestFramework (ERROR): Test failed. Test logging available at /tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_232329/tool_wallet_200/test_framework.log [0m
[0;36m test  2022-11-29T23:28:41.756000Z TestFramework (ERROR): [0m
[0;36m test  2022-11-29T23:28:41.756000Z TestFramework (ERROR): Hint: Call /tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/combine_logs.py '/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_232329/tool_wallet_200' to consolidate all logs [0m
[0;36m test  2022-11-29T23:28:41.756000Z TestFramework (ERROR): [0m
[0;36m test  2022-11-29T23:28:41.756000Z TestFramework (ERROR): If this failure happened unexpectedly or intermittently, please file a bug and provide a link or upload of the combined log. [0m
[0;36m test  2022-11-29T23:28:41.756000Z TestFramework (ERROR): https://github.com/bitcoin/bitcoin/issues [0m
[0;36m test  2022-11-29T23:28:41.756000Z TestFramework (ERROR): [0m


[1mTEST                                                   | STATUS    | DURATION

[0m[0;32mfeature_abortnode.py                                   | ‚úì Passed  | 31 s
[0m[0;32mfeature_bind_extra.py                                  | ‚úì Passed  | 1 s
[0m[0;32mfeature_bip68_sequence.py                              | ‚úì Passed  | 20 s
[0m[0;32mfeature_block.py                                       | ‚úì Passed  | 95 s
[0m[0;32mfeature_csv_activation.py                              | ‚úì Passed  | 17 s
[0m[0;32mfeature_maxuploadtarget.py                             | ‚úì Passed  | 58 s
[0m[0;32mfeature_reindex.py                                     | ‚úì Passed  | 3 s
[0m[0;32mfeature_segwit.py --descriptors                        | ‚úì Passed  | 11 s
[0m[0;32mfeature_segwit.py --legacy-wallet                      | ‚úì Passed  | 21 s
[0m[0;32mfeature_taproot.py                                     | ‚úì Passed  | 109 s
[0m[0;32minterface_bitcoin_cli.py --legacy-wallet               | ‚úì Passed  | 14 s
[0m[0;32minterface_zmq.py                                       | ‚úì Passed  | 15 s
[0m[0;32mmempool_limit.py                                       | ‚úì Passed  | 4 s
[0m[0;32mmempool_resurrect.py                                   | ‚úì Passed  | 1 s
[0m[0;32mmempool_updatefromblock.py                             | ‚úì Passed  | 59 s
[0m[0;32mmining_getblocktemplate_longpoll.py                    | ‚úì Passed  | 68 s
[0m[0;32mp2p_compactblocks.py                                   | ‚úì Passed  | 7 s
[0m[0;32mp2p_compactblocks_blocksonly.py                        | ‚úì Passed  | 2 s
[0m[0;32mp2p_dns_seeds.py                                       | ‚úì Passed  | 27 s
[0m[0;32mp2p_feefilter.py                                       | ‚úì Passed  | 13 s
[0m[0;32mp2p_segwit.py                                          | ‚úì Passed  | 87 s
[0m[0;32mp2p_sendheaders.py                                     | ‚úì Passed  | 17 s
[0m[0;32mp2p_timeouts.py                                        | ‚úì Passed  | 1 s
[0m[0;32mp2p_tx_download.py                                     | ‚úì Passed  | 30 s
[0m[0;32mrpc_fundrawtransaction.py --descriptors                | ‚úì Passed  | 35 s
[0m[0;32mrpc_fundrawtransaction.py --legacy-wallet              | ‚úì Passed  | 49 s
[0m[0;32mrpc_invalid_address_message.py                         | ‚úì Passed  | 1 s
[0m[0;32mrpc_packages.py                                        | ‚úì Passed  | 54 s
[0m[0;32mrpc_signer.py                                          | ‚úì Passed  | 1 s
[0m[0;32mrpc_txoutproof.py                                      | ‚úì Passed  | 5 s
[0m[0;32mwallet_abandonconflict.py --descriptors                | ‚úì Passed  | 7 s
[0m[0;32mwallet_abandonconflict.py --legacy-wallet              | ‚úì Passed  | 7 s
[0m[0;32mwallet_address_types.py --descriptors                  | ‚úì Passed  | 18 s
[0m[0;32mwallet_address_types.py --legacy-wallet                | ‚úì Passed  | 33 s
[0m[0;32mwallet_backup.py --descriptors                         | ‚úì Passed  | 37 s
[0m[0;32mwallet_backup.py --legacy-wallet                       | ‚úì Passed  | 47 s
[0m[0;32mwallet_basic.py --descriptors                          | ‚úì Passed  | 28 s
[0m[0;32mwallet_basic.py --legacy-wallet                        | ‚úì Passed  | 30 s
[0m[0;32mwallet_dump.py --legacy-wallet                         | ‚úì Passed  | 8 s
[0m[0;32mwallet_fast_rescan.py --descriptors                    | ‚úì Passed  | 15 s
[0m[0;32mwallet_hd.py --descriptors                             | ‚úì Passed  | 6 s
[0m[0;32mwallet_hd.py --legacy-wallet                           | ‚úì Passed  | 10 s
[0m[0;32mwallet_importmulti.py --legacy-wallet                  | ‚úì Passed  | 11 s
[0m[0;32mwallet_keypool_topup.py --descriptors                  | ‚úì Passed  | 10 s
[0m[0;32mwallet_keypool_topup.py --legacy-wallet                | ‚úì Passed  | 16 s
[0m[0;32mwallet_labels.py --descriptors                         | ‚úì Passed  | 2 s
[0m[0;32mwallet_labels.py --legacy-wallet                       | ‚úì Passed  | 3 s
[0m[0;32mwallet_listreceivedby.py --descriptors                 | ‚úì Passed  | 6 s
[0m[0;32mwallet_listreceivedby.py --legacy-wallet               | ‚úì Passed  | 7 s
[0m[0;32mwallet_signer.py --descriptors                         | ‚úì Passed  | 4 s
[0m[0;32mwallet_txn_doublespend.py --mineblock                  | ‚úì Passed  | 4 s
[0m[0;31mtool_wallet.py --legacy-wallet                         | ‚úñ Failed  | 9 s
[0m[0;31m[1m
ALL                                                    | ‚úñ Failed  | 1174 s (accumulated) 
[0m[0mRuntime: 311 s

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
