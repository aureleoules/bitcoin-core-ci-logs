[0;34m node0 2022-11-29T22:49:34.158684Z [shutoff] [logging/timer.h:57] [Log] [bench] FlushStateToDisk: write coins cache to disk (0 coins, 0kB) completed (0.09ms) [0m
[0;34m node0 2022-11-29T22:49:34.158711Z [shutoff] [validationinterface.cpp:250] [ChainStateFlushed] [validation] Enqueuing ChainStateFlushed: block hash=714476bbe4e29655758fc30d4971590e9556ffa0811bdfff1ab4a8598702418c [0m
[0;34m node0 2022-11-29T22:49:34.158814Z [shutoff] [wallet/bdb.cpp:538] [Flush] [walletdb] BerkeleyEnvironment::Flush: [/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_224433/tool_wallet_200/node0/regtest/wallets] Flush(true) [0m
[0;34m node0 2022-11-29T22:49:34.158836Z [shutoff] [wallet/bdb.cpp:549] [Flush] [walletdb] BerkeleyEnvironment::Flush: Flushing wallet.dat (refcount = 0)... [0m
[0;34m node0 2022-11-29T22:49:34.158931Z [shutoff] [wallet/bdb.cpp:553] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat checkpoint [0m
[0;34m node0 2022-11-29T22:49:34.159503Z [shutoff] [wallet/bdb.cpp:555] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat detach [0m
[0;34m node0 2022-11-29T22:49:34.160644Z [shutoff] [wallet/bdb.cpp:558] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat closed [0m
[0;34m node0 2022-11-29T22:49:34.160669Z [shutoff] [wallet/bdb.cpp:564] [Flush] [walletdb] BerkeleyEnvironment::Flush: Flush(true) took               1ms [0m
[0;34m node0 2022-11-29T22:49:34.161191Z [shutoff] [wallet/bdb.cpp:538] [Flush] [walletdb] BerkeleyEnvironment::Flush: [/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_224433/tool_wallet_200/node0/regtest/wallets/todump] Flush(true) [0m
[0;34m node0 2022-11-29T22:49:34.161215Z [shutoff] [wallet/bdb.cpp:549] [Flush] [walletdb] BerkeleyEnvironment::Flush: Flushing wallet.dat (refcount = 0)... [0m
[0;34m node0 2022-11-29T22:49:34.163930Z [shutoff] [wallet/bdb.cpp:553] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat checkpoint [0m
[0;34m node0 2022-11-29T22:49:34.164620Z [shutoff] [wallet/bdb.cpp:555] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat detach [0m
[0;34m node0 2022-11-29T22:49:34.165190Z [shutoff] [wallet/bdb.cpp:558] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat closed [0m
[0;34m node0 2022-11-29T22:49:34.165214Z [shutoff] [wallet/bdb.cpp:564] [Flush] [walletdb] BerkeleyEnvironment::Flush: Flush(true) took               4ms [0m
[0;34m node0 2022-11-29T22:49:34.165663Z [shutoff] [wallet/bdb.cpp:538] [Flush] [walletdb] BerkeleyEnvironment::Flush: [/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_224433/tool_wallet_200/node0/regtest/wallets/todump2] Flush(true) [0m
[0;34m node0 2022-11-29T22:49:34.165692Z [shutoff] [wallet/bdb.cpp:549] [Flush] [walletdb] BerkeleyEnvironment::Flush: Flushing wallet.dat (refcount = 0)... [0m
[0;34m node0 2022-11-29T22:49:34.165847Z [shutoff] [wallet/bdb.cpp:553] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat checkpoint [0m
[0;34m node0 2022-11-29T22:49:34.166430Z [shutoff] [wallet/bdb.cpp:555] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat detach [0m
[0;34m node0 2022-11-29T22:49:34.166950Z [shutoff] [wallet/bdb.cpp:558] [Flush] [walletdb] BerkeleyEnvironment::Flush: wallet.dat closed [0m
[0;34m node0 2022-11-29T22:49:34.166970Z [shutoff] [wallet/bdb.cpp:564] [Flush] [walletdb] BerkeleyEnvironment::Flush: Flush(true) took               1ms [0m
[0;34m node0 2022-11-29T22:49:34.167457Z [shutoff] [wallet/wallet.h:832] [WalletLogPrintf] [todump2] Releasing wallet [0m
[0;34m node0 2022-11-29T22:49:34.167489Z [shutoff] [wallet/bdb.cpp:538] [Flush] [walletdb] BerkeleyEnvironment::Flush: [/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_224433/tool_wallet_200/node0/regtest/wallets/todump2] Flush(false) database not started [0m
[0;34m node0 2022-11-29T22:49:34.167774Z [shutoff] [wallet/wallet.h:832] [WalletLogPrintf] [todump] Releasing wallet [0m
[0;34m node0 2022-11-29T22:49:34.167796Z [shutoff] [wallet/bdb.cpp:538] [Flush] [walletdb] BerkeleyEnvironment::Flush: [/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_224433/tool_wallet_200/node0/regtest/wallets/todump] Flush(false) database not started [0m
[0;34m node0 2022-11-29T22:49:34.167927Z [shutoff] [wallet/wallet.h:832] [WalletLogPrintf] [default wallet] Releasing wallet [0m
[0;34m node0 2022-11-29T22:49:34.167948Z [shutoff] [wallet/bdb.cpp:538] [Flush] [walletdb] BerkeleyEnvironment::Flush: [/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_224433/tool_wallet_200/node0/regtest/wallets] Flush(false) database not started [0m
[0;34m node0 2022-11-29T22:49:34.168436Z [shutoff] [init.cpp:334] [Shutdown] Shutdown: done [0m
[0;36m test  2022-11-29T22:49:34.197000Z TestFramework.node0 (DEBUG): Node stopped [0m
[0;36m test  2022-11-29T22:49:34.197000Z TestFramework (INFO): Checking dump arguments [0m
[0;36m test  2022-11-29T22:49:34.443000Z TestFramework (ERROR): Assertion failed [0m
[0;36m                                   Traceback (most recent call last):[0m
[0;36m                                     File "/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py", line 133, in main[0m
[0;36m                                       self.run_test()[0m
[0;36m                                     File "/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/tool_wallet.py", line 415, in run_test[0m
[0;36m                                       self.test_dump_createfromdump()[0m
[0;36m                                     File "/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/tool_wallet.py", line 330, in test_dump_createfromdump[0m
[0;36m                                       self.assert_raises_tool_error('No dump file provided. To use dump, -dumpfile=<filename> must be provided.', '-wallet=todump', 'dump')[0m
[0;36m                                     File "/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/tool_wallet.py", line 47, in assert_raises_tool_error[0m
[0;36m                                       assert_equal(stderr.strip(), error)[0m
[0;36m                                     File "/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/util.py", line 56, in assert_equal[0m
[0;36m                                       raise AssertionError("not(%s)" % " == ".join(str(arg) for arg in (thing1, thing2) + args))[0m
[0;36m                                   AssertionError: not(wallet/migrate.cpp:388:20: runtime error: negation of 4067 cannot be represented in type 'size_t' (aka 'unsigned long')[0m
[0;36m                                       #0 0x5609ca5dc163 in void wallet::RecordsPage::Unserialize<CAutoFile>(CAutoFile&) src/./src/wallet/migrate.cpp:388:20[0m
[0;36m                                       #1 0x5609ca5d4f4e in void Unserialize<CAutoFile, wallet::RecordsPage&>(CAutoFile&, wallet::RecordsPage&) src/./serialize.h:705:7[0m
[0;36m                                       #2 0x5609ca5d4f4e in CAutoFile& CAutoFile::operator>><wallet::RecordsPage&>(wallet::RecordsPage&) src/./streams.h:599:9[0m
[0;36m                                       #3 0x5609ca5cf977 in wallet::BerkeleyRODatabase::Open() src/./src/wallet/migrate.cpp:524:13[0m
[0;36m                                       #4 0x5609ca5e46cb in wallet::BerkeleyRODatabase::BerkeleyRODatabase(fs::path const&) src/./wallet/migrate.h:26:9[0m
[0;36m                                       #5 0x5609ca5d6c55 in std::_MakeUniq<wallet::BerkeleyRODatabase>::__single_object std::make_unique<wallet::BerkeleyRODatabase, fs::path&>(fs::path&) /usr/bin/../lib/gcc/x86_64-linux-gnu/11/../../../../include/c++/11/bits/unique_ptr.h:962:34[0m
[0;36m                                       #6 0x5609ca5d49c2 in wallet::MakeBerkeleyRODatabase(fs::path const&, wallet::DatabaseOptions const&, wallet::DatabaseStatus&, bilingual_str&) src/./src/wallet/migrate.cpp:688:46[0m
[0;36m                                       #7 0x5609ca4f5329 in wallet::MakeDatabase(fs::path const&, wallet::DatabaseOptions const&, wallet::DatabaseStatus&, bilingual_str&) src/./src/wallet/walletdb.cpp:1234:16[0m
[0;36m                                       #8 0x5609ca2ce287 in wallet::WalletTool::ExecuteWalletToolFunc(ArgsManager const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) src/./src/wallet/wallettool.cpp:203:52[0m
[0;36m                                       #9 0x5609ca2bf7b7 in main src/./src/bitcoin-wallet.cpp:135:10[0m
[0;36m                                       #10 0x7fcd6580ed8f  (/lib/x86_64-linux-gnu/libc.so.6+0x29d8f) (BuildId: 69389d485a9793dbe873f0ea2c93e02efaa9aa3d)[0m
[0;36m                                       #11 0x7fcd6580ee3f in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x29e3f) (BuildId: 69389d485a9793dbe873f0ea2c93e02efaa9aa3d)[0m
[0;36m                                       #12 0x5609ca1ff2e4 in _start (/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/bitcoin-wallet+0x5e42e4) (BuildId: f6887e5c2638d80bbae045ae88693e54723058f2)[0m
[0;36m                                   SUMMARY: UndefinedBehaviorSanitizer: unsigned-integer-overflow wallet/migrate.cpp:388:20 in == No dump file provided. To use dump, -dumpfile=<filename> must be provided.)[0m
[0;36m test  2022-11-29T22:49:34.444000Z TestFramework (DEBUG): Closing down network thread [0m
[0;36m test  2022-11-29T22:49:34.494000Z TestFramework (INFO): Stopping nodes [0m
[0;36m test  2022-11-29T22:49:34.494000Z TestFramework (WARNING): Not cleaning up dir /tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_224433/tool_wallet_200 [0m
[0;36m test  2022-11-29T22:49:34.494000Z TestFramework (ERROR): Test failed. Test logging available at /tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_224433/tool_wallet_200/test_framework.log [0m
[0;36m test  2022-11-29T22:49:34.494000Z TestFramework (ERROR): [0m
[0;36m test  2022-11-29T22:49:34.495000Z TestFramework (ERROR): Hint: Call /tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/combine_logs.py '/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20221129_224433/tool_wallet_200' to consolidate all logs [0m
[0;36m test  2022-11-29T22:49:34.495000Z TestFramework (ERROR): [0m
[0;36m test  2022-11-29T22:49:34.495000Z TestFramework (ERROR): If this failure happened unexpectedly or intermittently, please file a bug and provide a link or upload of the combined log. [0m
[0;36m test  2022-11-29T22:49:34.495000Z TestFramework (ERROR): https://github.com/bitcoin/bitcoin/issues [0m
[0;36m test  2022-11-29T22:49:34.495000Z TestFramework (ERROR): [0m


[1mTEST                                                   | STATUS    | DURATION

[0m[0;32mfeature_abortnode.py                                   | ‚úì Passed  | 31 s
[0m[0;32mfeature_bind_extra.py                                  | ‚úì Passed  | 1 s
[0m[0;32mfeature_bip68_sequence.py                              | ‚úì Passed  | 20 s
[0m[0;32mfeature_block.py                                       | ‚úì Passed  | 88 s
[0m[0;32mfeature_csv_activation.py                              | ‚úì Passed  | 17 s
[0m[0;32mfeature_maxuploadtarget.py                             | ‚úì Passed  | 58 s
[0m[0;32mfeature_reindex.py                                     | ‚úì Passed  | 3 s
[0m[0;32mfeature_segwit.py --descriptors                        | ‚úì Passed  | 12 s
[0m[0;32mfeature_segwit.py --legacy-wallet                      | ‚úì Passed  | 16 s
[0m[0;32mfeature_taproot.py                                     | ‚úì Passed  | 100 s
[0m[0;32minterface_bitcoin_cli.py --legacy-wallet               | ‚úì Passed  | 13 s
[0m[0;32minterface_zmq.py                                       | ‚úì Passed  | 18 s
[0m[0;32mmempool_limit.py                                       | ‚úì Passed  | 4 s
[0m[0;32mmempool_resurrect.py                                   | ‚úì Passed  | 1 s
[0m[0;32mmempool_updatefromblock.py                             | ‚úì Passed  | 58 s
[0m[0;32mmining_getblocktemplate_longpoll.py                    | ‚úì Passed  | 68 s
[0m[0;32mp2p_compactblocks.py                                   | ‚úì Passed  | 7 s
[0m[0;32mp2p_compactblocks_blocksonly.py                        | ‚úì Passed  | 2 s
[0m[0;32mp2p_dns_seeds.py                                       | ‚úì Passed  | 27 s
[0m[0;32mp2p_feefilter.py                                       | ‚úì Passed  | 15 s
[0m[0;32mp2p_segwit.py                                          | ‚úì Passed  | 79 s
[0m[0;32mp2p_sendheaders.py                                     | ‚úì Passed  | 22 s
[0m[0;32mp2p_timeouts.py                                        | ‚úì Passed  | 1 s
[0m[0;32mp2p_tx_download.py                                     | ‚úì Passed  | 28 s
[0m[0;32mrpc_fundrawtransaction.py --descriptors                | ‚úì Passed  | 32 s
[0m[0;32mrpc_fundrawtransaction.py --legacy-wallet              | ‚úì Passed  | 49 s
[0m[0;32mrpc_invalid_address_message.py                         | ‚úì Passed  | 1 s
[0m[0;32mrpc_packages.py                                        | ‚úì Passed  | 54 s
[0m[0;32mrpc_signer.py                                          | ‚úì Passed  | 1 s
[0m[0;32mrpc_txoutproof.py                                      | ‚úì Passed  | 4 s
[0m[0;32mwallet_abandonconflict.py --descriptors                | ‚úì Passed  | 5 s
[0m[0;32mwallet_abandonconflict.py --legacy-wallet              | ‚úì Passed  | 6 s
[0m[0;32mwallet_address_types.py --descriptors                  | ‚úì Passed  | 17 s
[0m[0;32mwallet_address_types.py --legacy-wallet                | ‚úì Passed  | 28 s
[0m[0;32mwallet_backup.py --descriptors                         | ‚úì Passed  | 34 s
[0m[0;32mwallet_backup.py --legacy-wallet                       | ‚úì Passed  | 43 s
[0m[0;32mwallet_basic.py --descriptors                          | ‚úì Passed  | 27 s
[0m[0;32mwallet_basic.py --legacy-wallet                        | ‚úì Passed  | 33 s
[0m[0;32mwallet_dump.py --legacy-wallet                         | ‚úì Passed  | 7 s
[0m[0;32mwallet_fast_rescan.py --descriptors                    | ‚úì Passed  | 15 s
[0m[0;32mwallet_hd.py --descriptors                             | ‚úì Passed  | 6 s
[0m[0;32mwallet_hd.py --legacy-wallet                           | ‚úì Passed  | 9 s
[0m[0;32mwallet_importmulti.py --legacy-wallet                  | ‚úì Passed  | 9 s
[0m[0;32mwallet_keypool_topup.py --descriptors                  | ‚úì Passed  | 10 s
[0m[0;32mwallet_keypool_topup.py --legacy-wallet                | ‚úì Passed  | 15 s
[0m[0;32mwallet_labels.py --descriptors                         | ‚úì Passed  | 2 s
[0m[0;32mwallet_labels.py --legacy-wallet                       | ‚úì Passed  | 3 s
[0m[0;32mwallet_listreceivedby.py --descriptors                 | ‚úì Passed  | 8 s
[0m[0;32mwallet_listreceivedby.py --legacy-wallet               | ‚úì Passed  | 7 s
[0m[0;32mwallet_signer.py --descriptors                         | ‚úì Passed  | 3 s
[0m[0;32mwallet_txn_doublespend.py --mineblock                  | ‚úì Passed  | 3 s
[0m[0;31mtool_wallet.py --legacy-wallet                         | ‚úñ Failed  | 8 s
[0m[0;31m[1m
ALL                                                    | ‚úñ Failed  | 1128 s (accumulated) 
[0m[0mRuntime: 299 s

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
