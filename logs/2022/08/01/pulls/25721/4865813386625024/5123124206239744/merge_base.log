bash -c "$PACKAGE_MANAGER_INSTALL git"
Hit:1 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy InRelease
Get:2 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-updates InRelease [114 kB]
Get:3 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-backports InRelease [99.8 kB]
Get:4 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [14.1 MB]
Get:5 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy/universe Translation-en [5,652 kB]
Get:6 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy/universe amd64 c-n-f Metadata [286 kB]
Get:7 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [217 kB]
Get:8 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy/multiverse Translation-en [112 kB]
Get:9 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy/multiverse amd64 c-n-f Metadata [8,372 B]
Get:10 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [477 kB]
Get:11 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]
Get:12 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-updates/main Translation-en [115 kB]
Get:13 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-updates/main amd64 c-n-f Metadata [7,056 B]
Get:14 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [248 kB]
Get:15 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-updates/restricted Translation-en [38.3 kB]
Get:16 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [196 kB]
Get:17 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-updates/universe Translation-en [66.2 kB]
Get:18 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 c-n-f Metadata [4,404 B]
Get:19 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [7,000 B]
Get:20 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-updates/multiverse Translation-en [2,112 B]
Get:21 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 c-n-f Metadata [420 B]
Get:22 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-backports/main amd64 c-n-f Metadata [112 B]
Get:23 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-backports/restricted amd64 c-n-f Metadata [116 B]
Get:24 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [5,416 B]
Get:25 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-backports/universe Translation-en [8,160 B]
Get:26 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-backports/universe amd64 c-n-f Metadata [236 B]
Get:27 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-backports/multiverse amd64 c-n-f Metadata [116 B]
Get:28 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [240 kB]
Get:29 http://security.ubuntu.com/ubuntu jammy-security/main Translation-en [59.7 kB]
Get:30 http://security.ubuntu.com/ubuntu jammy-security/main amd64 c-n-f Metadata [3,920 B]
Get:31 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [210 kB]
Get:32 http://security.ubuntu.com/ubuntu jammy-security/restricted Translation-en [31.6 kB]
Get:33 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [97.6 kB]
Get:34 http://security.ubuntu.com/ubuntu jammy-security/universe Translation-en [35.1 kB]
Get:35 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 c-n-f Metadata [2,408 B]
Get:36 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [4,192 B]
Get:37 http://security.ubuntu.com/ubuntu jammy-security/multiverse Translation-en [900 B]
Get:38 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 c-n-f Metadata [228 B]
Fetched 22.6 MB in 2s (10.5 MB/s)
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
The following packages were automatically installed and are no longer required:
  libatasmart4 libblockdev-fs2 libblockdev-loop2 libblockdev-part-err2
  libblockdev-part2 libblockdev-swap2 libblockdev-utils2 libblockdev2
  libflashrom1 libftdi1-2 libmbim-glib4 libmbim-proxy libmm-glib0 libnspr4
  libnss3 libnuma1 libparted-fs-resize0 libqmi-glib5 libqmi-proxy libtcl8.6
  libudisks2-0 tcl tcl8.6 usb-modeswitch usb-modeswitch-data
Use 'apt autoremove' to remove them.
Suggested packages:
  git-daemon-run | git-daemon-sysvinit git-doc git-email git-gui gitk gitweb
  git-cvs git-mediawiki git-svn
The following packages will be upgraded:
  git
1 upgraded, 0 newly installed, 0 to remove and 24 not upgraded.
Need to get 3,131 kB of archives.
After this operation, 0 B of additional disk space will be used.
Get:1 http://us-central1.gce.archive.ubuntu.com/ubuntu jammy-updates/main amd64 git amd64 1:2.34.1-1ubuntu1.4 [3,131 kB]
dpkg-preconfigure: unable to re-open stdin: No such file or directory
Fetched 3,131 kB in 0s (47.0 MB/s)
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 63923 files and directories currently installed.)
Preparing to unpack .../git_1%3a2.34.1-1ubuntu1.4_amd64.deb ...
Unpacking git (1:2.34.1-1ubuntu1.4) over (1:2.34.1-1ubuntu1.2) ...
Setting up git (1:2.34.1-1ubuntu1.4) ...

Running kernel seems to be up-to-date.

No services need to be restarted.

No containers need to be restarted.

No user sessions are running outdated binaries.

No VM guests are running outdated hypervisor (qemu) binaries on this host.
git config --global user.email "ci@ci.ci"
git config --global user.name "ci"
if [ "$CIRRUS_PR" = "" ]; then exit 0; fi
git fetch $CIRRUS_REPO_CLONE_URL $CIRRUS_BASE_BRANCH
From https://github.com/bitcoin/bitcoin
 * branch                master     -> FETCH_HEAD
git merge FETCH_HEAD
Auto-merging src/Makefile.test.include
Auto-merging src/wallet/interfaces.cpp
Auto-merging src/wallet/rpc/addresses.cpp
Auto-merging src/wallet/rpc/spend.cpp
Auto-merging src/wallet/spend.cpp
Auto-merging src/wallet/spend.h
Auto-merging src/wallet/test/coinselector_tests.cpp
Auto-merging src/wallet/test/wallet_tests.cpp
Auto-merging src/wallet/wallet.h
Merge made by the 'ort' strategy.
 .cirrus.yml                                        |  20 +-
 REVIEWERS                                          | 123 ----------
 build_msvc/README.md                               |   2 +-
 ci/test/00_setup_env_native_asan.sh                |  11 +-
 ci/test/00_setup_env_native_tidy.sh                |   2 +-
 ci/test/04_install.sh                              |   8 +
 ci/test/06_script_b.sh                             |   5 +-
 contrib/guix/manifest.scm                          |  20 +-
 depends/packages/expat.mk                          |   9 +-
 depends/packages/libxcb.mk                         |   3 +-
 depends/packages/qt.mk                             |  16 +-
 depends/patches/libxcb/remove_pthread_stubs.patch  |  12 +
 depends/patches/qt/dont_hardcode_x86_64.patch      |   4 +-
 depends/patches/qt/fix_android_jni_static.patch    |   2 +-
 depends/patches/qt/fix_limits_header.patch         |  33 ---
 depends/patches/qt/guix_cross_lib_path.patch       |  17 ++
 doc/dependencies.md                                |   2 +-
 doc/release-notes-25610.md                         |  12 +
 src/.clang-tidy                                    |   2 +
 src/Makefile.test.include                          |   2 +
 src/addrman.cpp                                    | 149 ++++++------
 src/addrman.h                                      |  25 +-
 src/addrman_impl.h                                 |  42 ++--
 src/bench/addrman.cpp                              |   2 +-
 src/bench/coin_selection.cpp                       |   6 +-
 src/blockfilter.cpp                                |   2 +-
 src/chain.cpp                                      |   7 +
 src/chain.h                                        |  24 +-
 src/coins.cpp                                      |   6 +-
 src/external_signer.cpp                            |   2 +-
 src/leveldb/util/env_posix.cc                      |   2 +-
 src/net.cpp                                        |  29 ++-
 src/net_processing.cpp                             |  22 +-
 src/node/blockstorage.cpp                          |   6 +-
 src/node/interfaces.cpp                            |  52 ++--
 src/primitives/transaction.cpp                     |   7 +-
 src/primitives/transaction.h                       |  14 +-
 src/protocol.h                                     |  11 +-
 src/psbt.h                                         |   3 +
 src/qt/bitcoingui.cpp                              |   8 +-
 src/random.h                                       |  17 +-
 src/rpc/blockchain.cpp                             |  25 +-
 src/rpc/mining.cpp                                 |   4 +-
 src/rpc/net.cpp                                    |  24 +-
 src/rpc/node.cpp                                   |   6 +-
 src/rpc/rawtransaction.cpp                         |  38 +--
 src/rpc/rawtransaction_util.cpp                    |   7 +-
 src/rpc/rawtransaction_util.h                      |   3 +-
 src/script/script.h                                |   2 +-
 src/serialize.h                                    |  23 ++
 src/test/addrman_tests.cpp                         |  26 +-
 src/test/fuzz/addrman.cpp                          |  18 +-
 src/test/fuzz/chain.cpp                            |   3 +-
 src/test/fuzz/load_external_block_file.cpp         |  11 +-
 src/test/fuzz/parse_univalue.cpp                   |   2 +-
 src/test/fuzz/tx_pool.cpp                          |  10 +-
 src/test/fuzz/txorphan.cpp                         |   6 +-
 src/test/fuzz/util.cpp                             |   5 +
 src/test/fuzz/util.h                               |   5 +-
 src/test/netbase_tests.cpp                         |  18 +-
 src/test/random_tests.cpp                          |  10 +
 src/test/rbf_tests.cpp                             | 230 ++++++++++++++++++
 src/test/script_tests.cpp                          |  24 +-
 src/test/system_tests.cpp                          |   5 -
 src/threadinterrupt.cpp                            |  12 +-
 src/threadinterrupt.h                              |   5 +-
 src/timedata.h                                     |   8 +-
 src/txdb.cpp                                       |   2 +-
 src/txorphanage.cpp                                |   4 +-
 src/txorphanage.h                                  |   2 +-
 src/univalue/include/univalue.h                    |  40 ++--
 src/util/system.cpp                                |   2 +-
 src/util/time.h                                    |   1 +
 src/validation.cpp                                 |  24 +-
 src/validation.h                                   |  32 ++-
 src/wallet/interfaces.cpp                          |   2 +
 src/wallet/rpc/addresses.cpp                       |  28 +--
 src/wallet/rpc/backup.cpp                          |  40 ++--
 src/wallet/rpc/coins.cpp                           |  18 +-
 src/wallet/rpc/encrypt.cpp                         |  14 +-
 src/wallet/rpc/signmessage.cpp                     |   2 +-
 src/wallet/rpc/spend.cpp                           |  22 +-
 src/wallet/rpc/transactions.cpp                    |  18 +-
 src/wallet/rpc/wallet.cpp                          |  14 +-
 src/wallet/spend.cpp                               | 164 ++++++++++---
 src/wallet/spend.h                                 |  69 ++++--
 src/wallet/test/availablecoins_tests.cpp           | 105 ++++++++
 src/wallet/test/coinselector_tests.cpp             | 264 ++++++++++-----------
 src/wallet/test/wallet_tests.cpp                   |   6 +-
 src/wallet/wallet.h                                |   2 +-
 test/functional/feature_taproot.py                 |   6 +
 test/functional/interface_usdt_net.py              |   2 +-
 test/functional/interface_usdt_utxocache.py        |  40 ++--
 test/functional/interface_usdt_validation.py       |   2 +-
 test/functional/p2p_permissions.py                 |   3 +-
 test/functional/rpc_psbt.py                        |  12 +-
 test/functional/test_framework/psbt.py             |   8 +-
 test/functional/test_runner.py                     |   1 +
 test/functional/wallet_address_types.py            |  28 +--
 .../functional/wallet_avoid_mixing_output_types.py | 176 ++++++++++++++
 test/functional/wallet_listtransactions.py         |   6 +-
 101 files changed, 1549 insertions(+), 881 deletions(-)
 create mode 100644 depends/patches/libxcb/remove_pthread_stubs.patch
 delete mode 100644 depends/patches/qt/fix_limits_header.patch
 create mode 100644 depends/patches/qt/guix_cross_lib_path.patch
 create mode 100644 doc/release-notes-25610.md
 create mode 100644 src/test/rbf_tests.cpp
 create mode 100644 src/wallet/test/availablecoins_tests.cpp
 create mode 100755 test/functional/wallet_avoid_mixing_output_types.py
