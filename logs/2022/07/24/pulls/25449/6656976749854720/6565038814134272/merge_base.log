if [ "$CIRRUS_PR" = "" ]; then exit 0; fi
bash -c "$PACKAGE_MANAGER_INSTALL git"
git
git fetch $CIRRUS_REPO_CLONE_URL $CIRRUS_BASE_BRANCH
From https://github.com/bitcoin/bitcoin
 * branch                0.21       -> FETCH_HEAD
git config --global user.email "ci@ci.ci"
git config --global user.name "ci"
git merge FETCH_HEAD
Auto-merging src/qt/sendcoinsdialog.h
Auto-merging src/qt/sendcoinsdialog.cpp
Auto-merging src/qt/guiutil.cpp
Auto-merging src/qt/bitcoingui.cpp
Auto-merging src/qt/bitcoin.cpp
Merge made by the 'recursive' strategy.
 .appveyor.yml                                      |   19 +-
 .cirrus.yml                                        |    6 +-
 build-aux/m4/l_socket.m4                           |   36 +
 build_msvc/bitcoin-qt/bitcoin-qt.vcxproj           |    2 +-
 build_msvc/bitcoin_config.h                        |   10 +-
 build_msvc/common.init.vcxproj                     |   57 +-
 build_msvc/common.vcxproj                          |    2 +-
 build_msvc/libbitcoin_qt/libbitcoin_qt.vcxproj     |    1 +
 build_msvc/test_bitcoin-qt/test_bitcoin-qt.vcxproj |    4 +-
 ci/test/00_setup_env_arm.sh                        |    2 +-
 ci/test/00_setup_env_mac.sh                        |    2 +-
 ci/test/00_setup_env_mac_host.sh                   |    2 +-
 ci/test/00_setup_env_win64.sh                      |    4 +
 ci/test/06_script_a.sh                             |    5 +-
 configure.ac                                       |   29 +-
 contrib/gitian-descriptors/gitian-osx-signer.yml   |   18 +-
 contrib/gitian-descriptors/gitian-osx.yml          |    2 -
 contrib/macdeploy/detached-sig-apply.sh            |   36 +-
 contrib/macdeploy/detached-sig-create.sh           |   35 +-
 contrib/testgen/README.md                          |    4 +-
 contrib/testgen/gen_key_io_test_vectors.py         |   84 +-
 contrib/windeploy/win-codesign.cert                |  177 +-
 depends/packages/boost.mk                          |    2 +-
 depends/packages/qt.mk                             |    4 +-
 .../patches/qt/fix_qpainter_non_determinism.patch  |   63 +
 doc/JSON-RPC-interface.md                          |   11 +
 doc/REST-interface.md                              |   12 +
 doc/bips.md                                        |    3 +-
 doc/bitcoin-conf.md                                |    2 +-
 doc/build-osx.md                                   |   31 +-
 doc/build-windows.md                               |    2 +-
 doc/descriptors.md                                 |    2 +-
 doc/man/bitcoin-cli.1                              |   68 +-
 doc/man/bitcoin-qt.1                               |  285 +-
 doc/man/bitcoin-tx.1                               |   39 +-
 doc/man/bitcoin-wallet.1                           |   48 +-
 doc/man/bitcoind.1                                 |  282 +-
 doc/release-notes.md                               |  487 +--
 doc/release-notes/release-notes-0.21.0.md          | 1336 +++++++
 doc/release-notes/release-notes-0.21.1.md          |  203 +
 doc/tor.md                                         |   27 +-
 share/examples/bitcoin.conf                        |   14 +-
 src/Makefile.am                                    |    3 +-
 src/Makefile.qt.include                            |    2 +
 src/Makefile.qt_locale.include                     |    7 +
 src/Makefile.test.include                          |    9 +-
 src/bech32.cpp                                     |   52 +-
 src/bech32.h                                       |   39 +-
 src/bench/bech32.cpp                               |    2 +-
 src/bench/coin_selection.cpp                       |    5 +-
 src/chainparams.cpp                                |   51 +-
 src/chainparamsbase.cpp                            |    2 +-
 src/consensus/params.h                             |   10 +
 src/core_read.cpp                                  |   59 +-
 src/fs.cpp                                         |    5 +
 src/init.cpp                                       |    2 +-
 src/key_io.cpp                                     |   22 +-
 src/net.cpp                                        |   15 +-
 src/net_permissions.h                              |    3 +-
 src/net_processing.cpp                             |   86 +-
 src/net_processing.h                               |    3 +
 src/netaddress.cpp                                 |   81 +-
 src/netaddress.h                                   |   24 +-
 src/qt/bitcoin.cpp                                 |    8 +
 src/qt/bitcoin_locale.qrc                          |    7 +
 src/qt/bitcoingui.cpp                              |    2 +-
 src/qt/forms/createwalletdialog.ui                 |  253 +-
 src/qt/forms/overviewpage.ui                       |   15 +-
 src/qt/guiutil.cpp                                 |    7 +-
 src/qt/locale/bitcoin_af.ts                        |   23 +-
 src/qt/locale/bitcoin_am.ts                        |  300 +-
 src/qt/locale/bitcoin_ar.ts                        |  561 ++-
 src/qt/locale/bitcoin_az.ts                        |  467 +++
 src/qt/locale/bitcoin_be.ts                        |    8 +
 src/qt/locale/bitcoin_bg.ts                        |   36 +
 src/qt/locale/bitcoin_bn.ts                        |   47 +-
 src/qt/locale/bitcoin_bs.ts                        | 1456 ++++++-
 src/qt/locale/bitcoin_ca.ts                        |  282 +-
 src/qt/locale/bitcoin_cs.ts                        |  368 +-
 src/qt/locale/bitcoin_cy.ts                        |    4 +
 src/qt/locale/bitcoin_da.ts                        |  365 +-
 src/qt/locale/bitcoin_de.ts                        | 1946 ++++-----
 src/qt/locale/bitcoin_el.ts                        |  235 +-
 src/qt/locale/bitcoin_en.ts                        |   28 +-
 src/qt/locale/bitcoin_en_GB.ts                     |    6 +-
 src/qt/locale/bitcoin_eo.ts                        |  361 +-
 src/qt/locale/bitcoin_es.ts                        |  188 +-
 src/qt/locale/bitcoin_es_CL.ts                     |  128 +-
 src/qt/locale/bitcoin_es_CO.ts                     |  304 +-
 src/qt/locale/bitcoin_es_DO.ts                     |    4 +
 src/qt/locale/bitcoin_es_MX.ts                     |   62 +-
 src/qt/locale/bitcoin_es_VE.ts                     |    8 +
 src/qt/locale/bitcoin_et.ts                        |   14 +-
 src/qt/locale/bitcoin_eu.ts                        |  469 ++-
 src/qt/locale/bitcoin_fa.ts                        | 1284 +++++-
 src/qt/locale/bitcoin_fi.ts                        |   24 +-
 src/qt/locale/bitcoin_fil.ts                       |  194 +-
 src/qt/locale/bitcoin_fr.ts                        | 1932 ++++-----
 src/qt/locale/bitcoin_ga.ts                        | 4081 +++++++++++++++++++
 src/qt/locale/bitcoin_gl.ts                        | 1921 +++++++++
 src/qt/locale/bitcoin_gl_ES.ts                     |   20 +-
 src/qt/locale/bitcoin_gu.ts                        |  343 ++
 src/qt/locale/bitcoin_he.ts                        |  173 +-
 src/qt/locale/bitcoin_hi.ts                        | 4007 +++++++++++++++++--
 src/qt/locale/bitcoin_hr.ts                        |  114 +-
 src/qt/locale/bitcoin_hu.ts                        |  272 +-
 src/qt/locale/bitcoin_id.ts                        |  565 ++-
 src/qt/locale/bitcoin_is.ts                        |    4 +
 src/qt/locale/bitcoin_it.ts                        |   52 +-
 src/qt/locale/bitcoin_ja.ts                        |  309 +-
 src/qt/locale/bitcoin_ka.ts                        |  112 +-
 src/qt/locale/bitcoin_kk.ts                        |    4 +
 src/qt/locale/bitcoin_kl.ts                        |  347 ++
 src/qt/locale/bitcoin_km.ts                        | 3612 ++++++++++++++++-
 src/qt/locale/bitcoin_ko.ts                        |  800 +++-
 src/qt/locale/bitcoin_ku_IQ.ts                     |  476 ++-
 src/qt/locale/bitcoin_ky.ts                        |    4 +
 src/qt/locale/bitcoin_la.ts                        |   64 +-
 src/qt/locale/bitcoin_lt.ts                        |   38 +-
 src/qt/locale/bitcoin_lv.ts                        |   62 +-
 src/qt/locale/bitcoin_mk.ts                        |    4 +
 src/qt/locale/bitcoin_ml.ts                        |  915 ++++-
 src/qt/locale/bitcoin_mn.ts                        |    4 +
 src/qt/locale/bitcoin_mr_IN.ts                     | 3688 ++++++++++++++++-
 src/qt/locale/bitcoin_ms.ts                        |  442 ++-
 src/qt/locale/bitcoin_my.ts                        |   84 +
 src/qt/locale/bitcoin_nb.ts                        |  373 +-
 src/qt/locale/bitcoin_nl.ts                        |  284 +-
 src/qt/locale/bitcoin_no.ts                        |  222 ++
 src/qt/locale/bitcoin_pam.ts                       |    4 +
 src/qt/locale/bitcoin_pl.ts                        |  188 +-
 src/qt/locale/bitcoin_pt.ts                        |  114 +-
 src/qt/locale/bitcoin_pt_BR.ts                     |   60 +-
 src/qt/locale/bitcoin_ro.ts                        |  147 +-
 src/qt/locale/bitcoin_ru.ts                        |  860 ++--
 src/qt/locale/bitcoin_si.ts                        |    8 +
 src/qt/locale/bitcoin_sk.ts                        |  329 +-
 src/qt/locale/bitcoin_sl.ts                        |   28 +-
 src/qt/locale/bitcoin_sn.ts                        |    4 +
 src/qt/locale/bitcoin_sq.ts                        |   17 +
 src/qt/locale/bitcoin_sr.ts                        |   58 +-
 src/qt/locale/bitcoin_sr@latin.ts                  |    4 +
 src/qt/locale/bitcoin_sv.ts                        |   42 +-
 src/qt/locale/bitcoin_szl.ts                       |    8 +-
 src/qt/locale/bitcoin_ta.ts                        |   55 +-
 src/qt/locale/bitcoin_te.ts                        |  194 +-
 src/qt/locale/bitcoin_th.ts                        | 3514 +++++++++++++++--
 src/qt/locale/bitcoin_tr.ts                        | 3267 ++++++++++++++--
 src/qt/locale/bitcoin_ug.ts                        |  267 ++
 src/qt/locale/bitcoin_uk.ts                        |  189 +-
 src/qt/locale/bitcoin_ur.ts                        |  243 +-
 src/qt/locale/bitcoin_uz@Cyrl.ts                   |    4 +
 src/qt/locale/bitcoin_uz@Latn.ts                   |    4 +
 src/qt/locale/bitcoin_vi.ts                        |  218 +-
 src/qt/locale/bitcoin_zh_CN.ts                     |   42 +-
 src/qt/locale/bitcoin_zh_HK.ts                     |  110 +-
 src/qt/locale/bitcoin_zh_TW.ts                     |   64 +-
 src/qt/locale/bitcoin_zu.ts                        | 4137 +++++++++++++++++++-
 src/qt/overviewpage.cpp                            |   50 +-
 src/qt/paymentserver.cpp                           |    2 +-
 src/qt/psbtoperationsdialog.cpp                    |    2 +-
 src/qt/sendcoinsdialog.cpp                         |    5 +-
 src/qt/sendcoinsdialog.h                           |    2 +-
 src/qt/transactionoverviewwidget.h                 |   41 +
 src/qt/walletframe.cpp                             |   17 +-
 src/randomenv.cpp                                  |    4 +-
 src/rpc/blockchain.cpp                             |   11 +-
 src/rpc/misc.cpp                                   |   22 +-
 src/rpc/net.cpp                                    |    6 +
 src/rpc/rawtransaction.cpp                         |    2 +-
 src/script/interpreter.h                           |   28 +
 src/script/sign.cpp                                |    8 +-
 src/test/bech32_tests.cpp                          |   58 +-
 src/test/data/key_io_invalid.json                  |  146 +-
 src/test/data/key_io_valid.json                    |  571 +--
 src/test/denialofservice_tests.cpp                 |  102 +-
 src/test/fuzz/FuzzedDataProvider.h                 |  564 +--
 src/test/fuzz/base_encode_decode.cpp               |    5 +
 src/test/fuzz/bech32.cpp                           |   32 +-
 src/test/fuzz/versionbits.cpp                      |  350 ++
 src/test/netbase_tests.cpp                         |   21 +-
 src/test/util_tests.cpp                            |   19 +
 src/test/versionbits_tests.cpp                     |  363 +-
 src/util/system.cpp                                |   13 +-
 src/util/time.cpp                                  |    5 +-
 src/versionbits.cpp                                |   25 +-
 src/versionbits.h                                  |    3 +-
 src/wallet/rpcwallet.cpp                           |   99 +-
 src/wallet/scriptpubkeyman.cpp                     |    2 +-
 src/wallet/test/coinselector_tests.cpp             |   22 +-
 src/wallet/test/db_tests.cpp                       |    4 +
 src/wallet/test/init_test_fixture.cpp              |    4 +
 src/wallet/wallet.cpp                              |   50 +-
 src/wallet/wallet.h                                |   15 +-
 src/wallet/walletutil.cpp                          |   19 +-
 test/functional/feature_includeconf.py             |    9 +-
 test/functional/feature_taproot.py                 |   19 +-
 test/functional/mempool_compatibility.py           |    3 +-
 test/functional/p2p_addr_relay.py                  |   78 +
 test/functional/p2p_addrv2_relay.py                |    1 +
 test/functional/p2p_invalid_messages.py            |    1 +
 test/functional/rpc_blockchain.py                  |    4 +-
 test/functional/rpc_fundrawtransaction.py          |   20 +-
 test/functional/rpc_invalid_address_message.py     |   84 +
 test/functional/rpc_psbt.py                        |   19 +-
 test/functional/rpc_rawtransaction.py              |    7 +
 test/functional/rpc_setban.py                      |   16 +
 test/functional/rpc_signrawtransaction.py          |   97 +-
 test/functional/rpc_uptime.py                      |    5 +
 test/functional/test_framework/p2p.py              |    2 +-
 test/functional/test_framework/ripemd160.py        |  130 +
 test/functional/test_framework/script.py           |    5 +-
 test/functional/test_framework/segwit_addr.py      |   54 +-
 test/functional/test_runner.py                     |    1 +
 test/functional/wallet_basic.py                    |   33 +-
 test/functional/wallet_bumpfee.py                  |   10 +-
 test/functional/wallet_labels.py                   |   10 +-
 test/functional/wallet_multiwallet.py              |    3 +-
 test/functional/wallet_send.py                     |   21 +-
 test/functional/wallet_upgradewallet.py            |   78 +-
 test/functional/wallet_watchonly.py                |    7 +-
 221 files changed, 49435 insertions(+), 6885 deletions(-)
 create mode 100644 build-aux/m4/l_socket.m4
 create mode 100644 depends/patches/qt/fix_qpainter_non_determinism.patch
 create mode 100644 doc/release-notes/release-notes-0.21.0.md
 create mode 100644 doc/release-notes/release-notes-0.21.1.md
 create mode 100644 src/qt/locale/bitcoin_az.ts
 create mode 100644 src/qt/locale/bitcoin_ga.ts
 create mode 100644 src/qt/locale/bitcoin_gl.ts
 create mode 100644 src/qt/locale/bitcoin_gu.ts
 create mode 100644 src/qt/locale/bitcoin_kl.ts
 create mode 100644 src/qt/locale/bitcoin_no.ts
 create mode 100644 src/qt/locale/bitcoin_ug.ts
 create mode 100644 src/qt/transactionoverviewwidget.h
 create mode 100644 src/test/fuzz/versionbits.cpp
 create mode 100755 test/functional/rpc_invalid_address_message.py
 create mode 100644 test/functional/test_framework/ripemd160.py
